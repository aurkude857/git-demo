added some code

code updated for cherrypick 
